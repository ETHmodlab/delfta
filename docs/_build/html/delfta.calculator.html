<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="delfta.download module" href="delfta.download.html" /><link rel="prev" title="delfta package" href="delfta.html" />

    <meta name="generator" content="sphinx-4.1.2, furo 2021.08.17.beta43"/>
        <title>delfta.calculator module - delfta documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=910ac4ccc9d7c023151c34010d7b500fb9777a51" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style>
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css"></head>
  <body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">delfta  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">delfta  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="delfta.html">delfta package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">delfta.calculator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.download.html">delfta.download module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.molchecks.html">delfta.molchecks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.net.html">delfta.net module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.net_utils.html">delfta.net_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.utils.html">delfta.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="delfta.xtb.html">delfta.xtb module</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <article role="main">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <section id="module-delfta.calculator">
<span id="delfta-calculator-module"></span><h1>delfta.calculator module<a class="headerlink" href="#module-delfta.calculator" title="Permalink to this headline">¶</a></h1>
<p>© 2021, ETH Zurich</p>
<dl class="py class">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">delfta.calculator.</span></span><span class="sig-name descname"><span class="pre">DelftaCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force3d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xtbopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_optmols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main calculator class for predicting DFT observables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tasks</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A list of tasks to predict. Available tasks include
<cite>[E_form, E_homo, E_lumo, E_gap, dipole, charges, wbo]</cite>, by default None, which
performs all possible tasks.</p></li>
<li><p><strong>delta</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use delta-learning models, by default True</p></li>
<li><p><strong>force3d</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to assign 3D coordinates to molecules lacking them, by default True</p></li>
<li><p><strong>addh</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to add hydrogens to molecules lacking them, by default True</p></li>
<li><p><strong>xtbopt</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to perform GFN2-xTB geometry optimization, by default False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – Enables/disables stdout logger, by default True</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em>, </em><em>optional</em>) – Enables/disables progress bars in prediction, by default True</p></li>
<li><p><strong>return_optmols</strong> (<em>bool</em><em>, </em><em>optional</em>) – Enables/disables returning the optimized molecules (use in combination with
xtbopt), by default False</p></li>
<li><p><strong>models</strong> (<em>list</em><em>, </em><em>optional</em>) – List of paths to saved models if different models than the default ones should be used.
If ‘models’ is set, ‘tasks’ cannot be specified manually and will be infered from the
passed models. See delfta.utils.MODELS for naming convention. Need to agree with choice of
‘delta’.
Normalization values are not modified.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._preprocess">
<span class="sig-name descname"><span class="pre">_preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mols</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._preprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a series of preprocessing checks on a list of molecules <cite>mols</cite>,
including 3d-conformation existence, validity of atom types, neutral charge
and hydrogen addition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mols</strong> (<em>[</em><em>pybel.Molecule</em><em>]</em>) – A list of OEChem molecule objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of processed OEChem molecule objects; and indices of molecules that cannot be processed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>([pybel.Molecule], [int])</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._log_status">
<span class="sig-name descname"><span class="pre">_log_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_mols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_non_valid_mols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_non_valid_atypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_charged</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_no3d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_noh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._log_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._log_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._get_preds">
<span class="sig-name descname"><span class="pre">_get_preds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._get_preds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._get_preds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns predictions for the data contained in <cite>loader</cite> of a
pyTorch <cite>model</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loader</strong> (<em>delfta.net_utils.DeltaDataset</em>) – A <cite>delfta.net_utils.DeltaDataset</cite> instance.</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="delfta.net.html#delfta.net.EGNN" title="delfta.net.EGNN"><em>delfta.net.EGNN</em></a>) – A <cite>delfta.net.EGNN</cite> instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy.ndarray</em> – Model predictions.</p></li>
<li><p><em>numpy.ndarray</em> – Graph-specific indexes for node-level predictions.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._get_xtb_props">
<span class="sig-name descname"><span class="pre">_get_xtb_props</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mols</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._get_xtb_props"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._get_xtb_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the GFN2-xTB binary and returns observables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mols</strong> (<em>[</em><em>pybel.Molecule</em><em>]</em>) – A list of OEChem molecule instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dict</em> – A dictionary containing the requested properties for
<cite>mols</cite>.</p></li>
<li><p><em>list</em> – A list of indices with molecules for which the xtb calculation failed.</p></li>
<li><p><em>list</em> – A list of optimized molecules (only returned if self.xtbopt==True)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._inv_scale">
<span class="sig-name descname"><span class="pre">_inv_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._inv_scale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._inv_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse min-max scaling transformation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>preds</strong> (<em>np.ndarray</em>) – Normalized predictions</p></li>
<li><p><strong>norm_dict</strong> (<em>dict</em>) – A dictionary containing scale and location values for
inverse normalization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Unnormalized predictions in their original scale
and location.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._predict_batch">
<span class="sig-name descname"><span class="pre">_predict_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._predict_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._predict_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method for prediction using OEChem generators
(e.g. those used for reading sdf or xyz files)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> (<em>pybel.filereader</em>) – A pybel.filereader instance</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – Batch size used for prediction. Defaults to the same one
used under <cite>self.predict</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Requested DFT-predicted properties.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Main prediction method for DFT observables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>None</em>) – Either a single or a list of OEChem Molecule instances or a pybel filereader generator instance.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size used for prediction, by default 32</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dict</em> – Requested DFT-predicted properties.</p></li>
<li><p><em>list</em> – A list of optimized molecules (only returned if self.xtbopt==True and self.return_optmol)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="delfta.calculator.DelftaCalculator._insert_placeholders">
<span class="sig-name descname"><span class="pre">_insert_placeholders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">len_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fatal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/delfta/calculator.html#DelftaCalculator._insert_placeholders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#delfta.calculator.DelftaCalculator._insert_placeholders" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore the excepted shape of the output by inserting PLACEHOLDER
at the places where errors occurred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>preds</strong> (<em>dict</em>) – Dictionary with predicted values from DelftaCalculator.predict</p></li>
<li><p><strong>len_input</strong> (<em>int</em>) – Length of the input list before removing faulty molecules</p></li>
<li><p><strong>fatal</strong> (<em>[</em><em>int</em><em>]</em>) – Indices of the faulty molecules</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with predicted values and placeholders for faulty molecules</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="delfta.download.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">delfta.download module</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="delfta.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">delfta package</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Jose Jimenez, Clemens Isert, Kennneth Atz, Markus Böcker, Gisbert Schneider
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/delfta.calculator.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js"></script>
    </body>
</html>